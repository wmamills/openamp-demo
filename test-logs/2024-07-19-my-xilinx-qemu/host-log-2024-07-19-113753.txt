++ seq 1 100
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=1 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=1 kernel=demo1-2-3 boot'
]2;run=1 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 1 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=1 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=1 kernel=demo1-2-3 test=1'
]2;run=1 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758022 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=1 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=1 kernel=demo1-2-3 test=2'
]2;run=1 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.09474 s, 354 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 1 demo1-2-3 2
+ TOTAL=1
+ MSG='OK   1 demo1-2-3 2'
+ echo 'OK   1 demo1-2-3 2'
OK   1 demo1-2-3 2
+ echo 'OK   1 demo1-2-3 2'
+ LAST_OK='OK   1 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=1 FAIL=0'
+ echo 'LAST OK   1 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-BKSBcHUr /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=2 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=2 kernel=demo1-2-3 boot'
]2;run=2 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 2 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=2 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=2 kernel=demo1-2-3 test=1'
]2;run=2 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0845941 s, 397 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=2 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=2 kernel=demo1-2-3 test=2'
]2;run=2 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0761829 s, 440 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 2 demo1-2-3 2
+ TOTAL=2
+ MSG='OK   2 demo1-2-3 2'
+ echo 'OK   2 demo1-2-3 2'
OK   2 demo1-2-3 2
+ echo 'OK   2 demo1-2-3 2'
+ LAST_OK='OK   2 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=2 FAIL=0'
+ echo 'LAST OK   2 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-tiZer0V9 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=3 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=3 kernel=demo1-2-3 boot'
]2;run=3 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 3 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=3 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=3 kernel=demo1-2-3 test=1'
]2;run=3 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754283 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=3 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=3 kernel=demo1-2-3 test=2'
]2;run=3 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0765534 s, 438 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 3 demo1-2-3 2
+ TOTAL=3
+ MSG='OK   3 demo1-2-3 2'
+ echo 'OK   3 demo1-2-3 2'
OK   3 demo1-2-3 2
+ echo 'OK   3 demo1-2-3 2'
+ LAST_OK='OK   3 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=3 FAIL=0'
+ echo 'LAST OK   3 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-ZiftitTp /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=4 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=4 kernel=demo1-2-3 boot'
]2;run=4 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 4 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=4 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=4 kernel=demo1-2-3 test=1'
]2;run=4 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.075349 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=4 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=4 kernel=demo1-2-3 test=2'
]2;run=4 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759364 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 4 demo1-2-3 2
+ TOTAL=4
+ MSG='OK   4 demo1-2-3 2'
+ echo 'OK   4 demo1-2-3 2'
OK   4 demo1-2-3 2
+ echo 'OK   4 demo1-2-3 2'
+ LAST_OK='OK   4 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=4 FAIL=0'
+ echo 'LAST OK   4 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-uFHHtXYU /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=5 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=5 kernel=demo1-2-3 boot'
]2;run=5 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 5 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=5 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=5 kernel=demo1-2-3 test=1'
]2;run=5 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754106 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=5 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=5 kernel=demo1-2-3 test=2'
]2;run=5 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0760193 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 5 demo1-2-3 2
+ TOTAL=5
+ MSG='OK   5 demo1-2-3 2'
+ echo 'OK   5 demo1-2-3 2'
OK   5 demo1-2-3 2
+ echo 'OK   5 demo1-2-3 2'
+ LAST_OK='OK   5 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=5 FAIL=0'
+ echo 'LAST OK   5 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-fUHlOERH /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=6 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=6 kernel=demo1-2-3 boot'
]2;run=6 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 6 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=6 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=6 kernel=demo1-2-3 test=1'
]2;run=6 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755669 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=6 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=6 kernel=demo1-2-3 test=2'
]2;run=6 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0778421 s, 431 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 6 demo1-2-3 2
+ TOTAL=6
+ MSG='OK   6 demo1-2-3 2'
+ echo 'OK   6 demo1-2-3 2'
OK   6 demo1-2-3 2
+ echo 'OK   6 demo1-2-3 2'
+ LAST_OK='OK   6 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=6 FAIL=0'
+ echo 'LAST OK   6 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-rDPuq75Q /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=7 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=7 kernel=demo1-2-3 boot'
]2;run=7 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 7 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=7 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=7 kernel=demo1-2-3 test=1'
]2;run=7 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753669 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=7 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=7 kernel=demo1-2-3 test=2'
]2;run=7 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753341 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 7 demo1-2-3 2
+ TOTAL=7
+ MSG='OK   7 demo1-2-3 2'
+ echo 'OK   7 demo1-2-3 2'
OK   7 demo1-2-3 2
+ echo 'OK   7 demo1-2-3 2'
+ LAST_OK='OK   7 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=7 FAIL=0'
+ echo 'LAST OK   7 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-OLDEOaPg /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=8 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=8 kernel=demo1-2-3 boot'
]2;run=8 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 8 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=8 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=8 kernel=demo1-2-3 test=1'
]2;run=8 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0763824 s, 439 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=8 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=8 kernel=demo1-2-3 test=2'
]2;run=8 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0760714 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 8 demo1-2-3 2
+ TOTAL=8
+ MSG='OK   8 demo1-2-3 2'
+ echo 'OK   8 demo1-2-3 2'
OK   8 demo1-2-3 2
+ echo 'OK   8 demo1-2-3 2'
+ LAST_OK='OK   8 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=8 FAIL=0'
+ echo 'LAST OK   8 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-9M87nuXs /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=9 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=9 kernel=demo1-2-3 boot'
]2;run=9 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 9 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=9 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=9 kernel=demo1-2-3 test=1'
]2;run=9 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0757726 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=9 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=9 kernel=demo1-2-3 test=2'
]2;run=9 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0852639 s, 394 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 9 demo1-2-3 2
+ TOTAL=9
+ MSG='OK   9 demo1-2-3 2'
+ echo 'OK   9 demo1-2-3 2'
OK   9 demo1-2-3 2
+ echo 'OK   9 demo1-2-3 2'
+ LAST_OK='OK   9 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=9 FAIL=0'
+ echo 'LAST OK   9 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-8qbYlqLc /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=10 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=10 kernel=demo1-2-3 boot'
]2;run=10 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 10 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=10 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=10 kernel=demo1-2-3 test=1'
]2;run=10 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0838541 s, 400 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=10 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=10 kernel=demo1-2-3 test=2'
]2;run=10 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759921 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 10 demo1-2-3 2
+ TOTAL=10
+ MSG='OK   10 demo1-2-3 2'
+ echo 'OK   10 demo1-2-3 2'
OK   10 demo1-2-3 2
+ echo 'OK   10 demo1-2-3 2'
+ LAST_OK='OK   10 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=10 FAIL=0'
+ echo 'LAST OK   10 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-KCzvZbZb /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=11 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=11 kernel=demo1-2-3 boot'
]2;run=11 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 11 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=11 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=11 kernel=demo1-2-3 test=1'
]2;run=11 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753817 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=11 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=11 kernel=demo1-2-3 test=2'
]2;run=11 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756218 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 11 demo1-2-3 2
+ TOTAL=11
+ MSG='OK   11 demo1-2-3 2'
+ echo 'OK   11 demo1-2-3 2'
OK   11 demo1-2-3 2
+ echo 'OK   11 demo1-2-3 2'
+ LAST_OK='OK   11 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=11 FAIL=0'
+ echo 'LAST OK   11 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-mDLPdX7m /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=12 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=12 kernel=demo1-2-3 boot'
]2;run=12 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 12 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=12 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=12 kernel=demo1-2-3 test=1'
]2;run=12 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0770344 s, 436 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=12 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=12 kernel=demo1-2-3 test=2'
]2;run=12 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753657 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 12 demo1-2-3 2
+ TOTAL=12
+ MSG='OK   12 demo1-2-3 2'
+ echo 'OK   12 demo1-2-3 2'
OK   12 demo1-2-3 2
+ echo 'OK   12 demo1-2-3 2'
+ LAST_OK='OK   12 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=12 FAIL=0'
+ echo 'LAST OK   12 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-DMQsxLyH /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=13 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=13 kernel=demo1-2-3 boot'
]2;run=13 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 13 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=13 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=13 kernel=demo1-2-3 test=1'
]2;run=13 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755397 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=13 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=13 kernel=demo1-2-3 test=2'
]2;run=13 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758273 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 13 demo1-2-3 2
+ TOTAL=13
+ MSG='OK   13 demo1-2-3 2'
+ echo 'OK   13 demo1-2-3 2'
OK   13 demo1-2-3 2
+ echo 'OK   13 demo1-2-3 2'
+ LAST_OK='OK   13 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=13 FAIL=0'
+ echo 'LAST OK   13 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-SvGfxNKc /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=14 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=14 kernel=demo1-2-3 boot'
]2;run=14 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 14 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=14 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=14 kernel=demo1-2-3 test=1'
]2;run=14 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755675 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=14 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=14 kernel=demo1-2-3 test=2'
]2;run=14 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.07531 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 14 demo1-2-3 2
+ TOTAL=14
+ MSG='OK   14 demo1-2-3 2'
+ echo 'OK   14 demo1-2-3 2'
OK   14 demo1-2-3 2
+ echo 'OK   14 demo1-2-3 2'
+ LAST_OK='OK   14 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=14 FAIL=0'
+ echo 'LAST OK   14 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-nVcFJkiw /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=15 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=15 kernel=demo1-2-3 boot'
]2;run=15 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 15 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=15 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=15 kernel=demo1-2-3 test=1'
]2;run=15 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758001 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=15 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=15 kernel=demo1-2-3 test=2'
]2;run=15 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758021 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 15 demo1-2-3 2
+ TOTAL=15
+ MSG='OK   15 demo1-2-3 2'
+ echo 'OK   15 demo1-2-3 2'
OK   15 demo1-2-3 2
+ echo 'OK   15 demo1-2-3 2'
+ LAST_OK='OK   15 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=15 FAIL=0'
+ echo 'LAST OK   15 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-o0e9AwRy /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=16 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=16 kernel=demo1-2-3 boot'
]2;run=16 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 16 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=16 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=16 kernel=demo1-2-3 test=1'
]2;run=16 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753516 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=16 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=16 kernel=demo1-2-3 test=2'
]2;run=16 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754576 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 16 demo1-2-3 2
+ TOTAL=16
+ MSG='OK   16 demo1-2-3 2'
+ echo 'OK   16 demo1-2-3 2'
OK   16 demo1-2-3 2
+ echo 'OK   16 demo1-2-3 2'
+ LAST_OK='OK   16 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=16 FAIL=0'
+ echo 'LAST OK   16 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-fZcTiC9s /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=17 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=17 kernel=demo1-2-3 boot'
]2;run=17 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 17 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=17 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=17 kernel=demo1-2-3 test=1'
]2;run=17 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0757221 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=17 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=17 kernel=demo1-2-3 test=2'
]2;run=17 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.075861 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 17 demo1-2-3 2
+ TOTAL=17
+ MSG='OK   17 demo1-2-3 2'
+ echo 'OK   17 demo1-2-3 2'
OK   17 demo1-2-3 2
+ echo 'OK   17 demo1-2-3 2'
+ LAST_OK='OK   17 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=17 FAIL=0'
+ echo 'LAST OK   17 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-zAURYfil /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=18 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=18 kernel=demo1-2-3 boot'
]2;run=18 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 18 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=18 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=18 kernel=demo1-2-3 test=1'
]2;run=18 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755276 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=18 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=18 kernel=demo1-2-3 test=2'
]2;run=18 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0783502 s, 428 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 18 demo1-2-3 2
+ TOTAL=18
+ MSG='OK   18 demo1-2-3 2'
+ echo 'OK   18 demo1-2-3 2'
OK   18 demo1-2-3 2
+ echo 'OK   18 demo1-2-3 2'
+ LAST_OK='OK   18 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=18 FAIL=0'
+ echo 'LAST OK   18 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-vmOXuFwv /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=19 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=19 kernel=demo1-2-3 boot'
]2;run=19 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 19 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=19 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=19 kernel=demo1-2-3 test=1'
]2;run=19 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753371 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=19 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=19 kernel=demo1-2-3 test=2'
]2;run=19 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754001 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 19 demo1-2-3 2
+ TOTAL=19
+ MSG='OK   19 demo1-2-3 2'
+ echo 'OK   19 demo1-2-3 2'
OK   19 demo1-2-3 2
+ echo 'OK   19 demo1-2-3 2'
+ LAST_OK='OK   19 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=19 FAIL=0'
+ echo 'LAST OK   19 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-wpPlk5jQ /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=20 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=20 kernel=demo1-2-3 boot'
]2;run=20 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 20 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=20 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=20 kernel=demo1-2-3 test=1'
]2;run=20 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754432 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=20 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=20 kernel=demo1-2-3 test=2'
]2;run=20 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755976 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 20 demo1-2-3 2
+ TOTAL=20
+ MSG='OK   20 demo1-2-3 2'
+ echo 'OK   20 demo1-2-3 2'
OK   20 demo1-2-3 2
+ echo 'OK   20 demo1-2-3 2'
+ LAST_OK='OK   20 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=20 FAIL=0'
+ echo 'LAST OK   20 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-Paxg1uRQ /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=21 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=21 kernel=demo1-2-3 boot'
]2;run=21 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 21 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=21 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=21 kernel=demo1-2-3 test=1'
]2;run=21 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756599 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=21 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=21 kernel=demo1-2-3 test=2'
]2;run=21 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758109 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 21 demo1-2-3 2
+ TOTAL=21
+ MSG='OK   21 demo1-2-3 2'
+ echo 'OK   21 demo1-2-3 2'
OK   21 demo1-2-3 2
+ echo 'OK   21 demo1-2-3 2'
+ LAST_OK='OK   21 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=21 FAIL=0'
+ echo 'LAST OK   21 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-QEAp6zGJ /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=22 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=22 kernel=demo1-2-3 boot'
]2;run=22 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 22 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=22 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=22 kernel=demo1-2-3 test=1'
]2;run=22 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0752703 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=22 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=22 kernel=demo1-2-3 test=2'
]2;run=22 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753939 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 22 demo1-2-3 2
+ TOTAL=22
+ MSG='OK   22 demo1-2-3 2'
+ echo 'OK   22 demo1-2-3 2'
OK   22 demo1-2-3 2
+ echo 'OK   22 demo1-2-3 2'
+ LAST_OK='OK   22 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=22 FAIL=0'
+ echo 'LAST OK   22 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-pL87rb5q /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=23 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=23 kernel=demo1-2-3 boot'
]2;run=23 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 23 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=23 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=23 kernel=demo1-2-3 test=1'
]2;run=23 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758689 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=23 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=23 kernel=demo1-2-3 test=2'
]2;run=23 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0751977 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 23 demo1-2-3 2
+ TOTAL=23
+ MSG='OK   23 demo1-2-3 2'
+ echo 'OK   23 demo1-2-3 2'
OK   23 demo1-2-3 2
+ echo 'OK   23 demo1-2-3 2'
+ LAST_OK='OK   23 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=23 FAIL=0'
+ echo 'LAST OK   23 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-445VbCJs /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=24 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=24 kernel=demo1-2-3 boot'
]2;run=24 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 24 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=24 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=24 kernel=demo1-2-3 test=1'
]2;run=24 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0772296 s, 434 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=24 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=24 kernel=demo1-2-3 test=2'
]2;run=24 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0773751 s, 434 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 24 demo1-2-3 2
+ TOTAL=24
+ MSG='OK   24 demo1-2-3 2'
+ echo 'OK   24 demo1-2-3 2'
OK   24 demo1-2-3 2
+ echo 'OK   24 demo1-2-3 2'
+ LAST_OK='OK   24 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=24 FAIL=0'
+ echo 'LAST OK   24 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-vqjvyymi /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=25 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=25 kernel=demo1-2-3 boot'
]2;run=25 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 25 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=25 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=25 kernel=demo1-2-3 test=1'
]2;run=25 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.075433 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=25 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=25 kernel=demo1-2-3 test=2'
]2;run=25 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0887386 s, 378 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 25 demo1-2-3 2
+ TOTAL=25
+ MSG='OK   25 demo1-2-3 2'
+ echo 'OK   25 demo1-2-3 2'
OK   25 demo1-2-3 2
+ echo 'OK   25 demo1-2-3 2'
+ LAST_OK='OK   25 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=25 FAIL=0'
+ echo 'LAST OK   25 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-QccfoSqs /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=26 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=26 kernel=demo1-2-3 boot'
]2;run=26 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 26 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=26 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=26 kernel=demo1-2-3 test=1'
]2;run=26 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756968 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=26 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=26 kernel=demo1-2-3 test=2'
]2;run=26 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0760507 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 26 demo1-2-3 2
+ TOTAL=26
+ MSG='OK   26 demo1-2-3 2'
+ echo 'OK   26 demo1-2-3 2'
OK   26 demo1-2-3 2
+ echo 'OK   26 demo1-2-3 2'
+ LAST_OK='OK   26 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=26 FAIL=0'
+ echo 'LAST OK   26 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-VjtixBSK /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=27 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=27 kernel=demo1-2-3 boot'
]2;run=27 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 27 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=27 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=27 kernel=demo1-2-3 test=1'
]2;run=27 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0762414 s, 440 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=27 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=27 kernel=demo1-2-3 test=2'
]2;run=27 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0762432 s, 440 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 27 demo1-2-3 2
+ TOTAL=27
+ MSG='OK   27 demo1-2-3 2'
+ echo 'OK   27 demo1-2-3 2'
OK   27 demo1-2-3 2
+ echo 'OK   27 demo1-2-3 2'
+ LAST_OK='OK   27 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=27 FAIL=0'
+ echo 'LAST OK   27 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-7sG26OM0 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=28 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=28 kernel=demo1-2-3 boot'
]2;run=28 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 28 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=28 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=28 kernel=demo1-2-3 test=1'
]2;run=28 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.075698 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=28 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=28 kernel=demo1-2-3 test=2'
]2;run=28 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.106649 s, 315 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 28 demo1-2-3 2
+ TOTAL=28
+ MSG='OK   28 demo1-2-3 2'
+ echo 'OK   28 demo1-2-3 2'
OK   28 demo1-2-3 2
+ echo 'OK   28 demo1-2-3 2'
+ LAST_OK='OK   28 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=28 FAIL=0'
+ echo 'LAST OK   28 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-KKU7IAbB /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=29 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=29 kernel=demo1-2-3 boot'
]2;run=29 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 29 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=29 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=29 kernel=demo1-2-3 test=1'
]2;run=29 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754201 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=29 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=29 kernel=demo1-2-3 test=2'
]2;run=29 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0996709 s, 337 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 29 demo1-2-3 2
+ TOTAL=29
+ MSG='OK   29 demo1-2-3 2'
+ echo 'OK   29 demo1-2-3 2'
OK   29 demo1-2-3 2
+ echo 'OK   29 demo1-2-3 2'
+ LAST_OK='OK   29 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=29 FAIL=0'
+ echo 'LAST OK   29 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-MGwJtDfe /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=30 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=30 kernel=demo1-2-3 boot'
]2;run=30 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 30 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=30 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=30 kernel=demo1-2-3 test=1'
]2;run=30 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759719 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=30 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=30 kernel=demo1-2-3 test=2'
]2;run=30 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754519 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 30 demo1-2-3 2
+ TOTAL=30
+ MSG='OK   30 demo1-2-3 2'
+ echo 'OK   30 demo1-2-3 2'
OK   30 demo1-2-3 2
+ echo 'OK   30 demo1-2-3 2'
+ LAST_OK='OK   30 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=30 FAIL=0'
+ echo 'LAST OK   30 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-EUQu42qK /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=31 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=31 kernel=demo1-2-3 boot'
]2;run=31 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 31 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=31 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=31 kernel=demo1-2-3 test=1'
]2;run=31 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0885128 s, 379 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=31 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=31 kernel=demo1-2-3 test=2'
]2;run=31 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0760141 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 31 demo1-2-3 2
+ TOTAL=31
+ MSG='OK   31 demo1-2-3 2'
+ echo 'OK   31 demo1-2-3 2'
OK   31 demo1-2-3 2
+ echo 'OK   31 demo1-2-3 2'
+ LAST_OK='OK   31 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=31 FAIL=0'
+ echo 'LAST OK   31 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-OLCsenLS /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=32 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=32 kernel=demo1-2-3 boot'
]2;run=32 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 32 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=32 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=32 kernel=demo1-2-3 test=1'
]2;run=32 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0766738 s, 438 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=32 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=32 kernel=demo1-2-3 test=2'
]2;run=32 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0757838 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 32 demo1-2-3 2
+ TOTAL=32
+ MSG='OK   32 demo1-2-3 2'
+ echo 'OK   32 demo1-2-3 2'
OK   32 demo1-2-3 2
+ echo 'OK   32 demo1-2-3 2'
+ LAST_OK='OK   32 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=32 FAIL=0'
+ echo 'LAST OK   32 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-d3pl2SR5 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=33 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=33 kernel=demo1-2-3 boot'
]2;run=33 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 33 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=33 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=33 kernel=demo1-2-3 test=1'
]2;run=33 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754285 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=33 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=33 kernel=demo1-2-3 test=2'
]2;run=33 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754096 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 33 demo1-2-3 2
+ TOTAL=33
+ MSG='OK   33 demo1-2-3 2'
+ echo 'OK   33 demo1-2-3 2'
OK   33 demo1-2-3 2
+ echo 'OK   33 demo1-2-3 2'
+ LAST_OK='OK   33 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=33 FAIL=0'
+ echo 'LAST OK   33 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-9gm7SJjH /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=34 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=34 kernel=demo1-2-3 boot'
]2;run=34 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 34 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=34 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=34 kernel=demo1-2-3 test=1'
]2;run=34 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0751756 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=34 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=34 kernel=demo1-2-3 test=2'
]2;run=34 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0752561 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 34 demo1-2-3 2
+ TOTAL=34
+ MSG='OK   34 demo1-2-3 2'
+ echo 'OK   34 demo1-2-3 2'
OK   34 demo1-2-3 2
+ echo 'OK   34 demo1-2-3 2'
+ LAST_OK='OK   34 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=34 FAIL=0'
+ echo 'LAST OK   34 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-k2YtxnHH /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=35 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=35 kernel=demo1-2-3 boot'
]2;run=35 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 35 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=35 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=35 kernel=demo1-2-3 test=1'
]2;run=35 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753443 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=35 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=35 kernel=demo1-2-3 test=2'
]2;run=35 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0762601 s, 440 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 35 demo1-2-3 2
+ TOTAL=35
+ MSG='OK   35 demo1-2-3 2'
+ echo 'OK   35 demo1-2-3 2'
OK   35 demo1-2-3 2
+ echo 'OK   35 demo1-2-3 2'
+ LAST_OK='OK   35 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=35 FAIL=0'
+ echo 'LAST OK   35 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-44sfaARV /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=36 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=36 kernel=demo1-2-3 boot'
]2;run=36 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 36 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=36 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=36 kernel=demo1-2-3 test=1'
]2;run=36 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.075571 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=36 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=36 kernel=demo1-2-3 test=2'
]2;run=36 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.076647 s, 438 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 36 demo1-2-3 2
+ TOTAL=36
+ MSG='OK   36 demo1-2-3 2'
+ echo 'OK   36 demo1-2-3 2'
OK   36 demo1-2-3 2
+ echo 'OK   36 demo1-2-3 2'
+ LAST_OK='OK   36 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=36 FAIL=0'
+ echo 'LAST OK   36 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-r6nbdvuz /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=37 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=37 kernel=demo1-2-3 boot'
]2;run=37 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 37 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=37 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=37 kernel=demo1-2-3 test=1'
]2;run=37 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759793 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=37 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=37 kernel=demo1-2-3 test=2'
]2;run=37 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754903 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 37 demo1-2-3 2
+ TOTAL=37
+ MSG='OK   37 demo1-2-3 2'
+ echo 'OK   37 demo1-2-3 2'
OK   37 demo1-2-3 2
+ echo 'OK   37 demo1-2-3 2'
+ LAST_OK='OK   37 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=37 FAIL=0'
+ echo 'LAST OK   37 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-Je4Inpgo /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=38 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=38 kernel=demo1-2-3 boot'
]2;run=38 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 38 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=38 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=38 kernel=demo1-2-3 test=1'
]2;run=38 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0767163 s, 437 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=38 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=38 kernel=demo1-2-3 test=2'
]2;run=38 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.075804 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 38 demo1-2-3 2
+ TOTAL=38
+ MSG='OK   38 demo1-2-3 2'
+ echo 'OK   38 demo1-2-3 2'
OK   38 demo1-2-3 2
+ echo 'OK   38 demo1-2-3 2'
+ LAST_OK='OK   38 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=38 FAIL=0'
+ echo 'LAST OK   38 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-MzBOqT3m /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=39 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=39 kernel=demo1-2-3 boot'
]2;run=39 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 39 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=39 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=39 kernel=demo1-2-3 test=1'
]2;run=39 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759167 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=39 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=39 kernel=demo1-2-3 test=2'
]2;run=39 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759861 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 39 demo1-2-3 2
+ TOTAL=39
+ MSG='OK   39 demo1-2-3 2'
+ echo 'OK   39 demo1-2-3 2'
OK   39 demo1-2-3 2
+ echo 'OK   39 demo1-2-3 2'
+ LAST_OK='OK   39 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=39 FAIL=0'
+ echo 'LAST OK   39 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-CUqGNuxD /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=40 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=40 kernel=demo1-2-3 boot'
]2;run=40 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 40 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=40 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=40 kernel=demo1-2-3 test=1'
]2;run=40 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759091 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=40 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=40 kernel=demo1-2-3 test=2'
]2;run=40 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0762662 s, 440 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 40 demo1-2-3 2
+ TOTAL=40
+ MSG='OK   40 demo1-2-3 2'
+ echo 'OK   40 demo1-2-3 2'
OK   40 demo1-2-3 2
+ echo 'OK   40 demo1-2-3 2'
+ LAST_OK='OK   40 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=40 FAIL=0'
+ echo 'LAST OK   40 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-kDCgIp5p /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=41 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=41 kernel=demo1-2-3 boot'
]2;run=41 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 41 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=41 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=41 kernel=demo1-2-3 test=1'
]2;run=41 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753209 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=41 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=41 kernel=demo1-2-3 test=2'
]2;run=41 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754966 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 41 demo1-2-3 2
+ TOTAL=41
+ MSG='OK   41 demo1-2-3 2'
+ echo 'OK   41 demo1-2-3 2'
OK   41 demo1-2-3 2
+ echo 'OK   41 demo1-2-3 2'
+ LAST_OK='OK   41 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=41 FAIL=0'
+ echo 'LAST OK   41 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-aACqij3r /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=42 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=42 kernel=demo1-2-3 boot'
]2;run=42 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 42 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=42 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=42 kernel=demo1-2-3 test=1'
]2;run=42 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756076 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=42 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=42 kernel=demo1-2-3 test=2'
]2;run=42 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754146 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 42 demo1-2-3 2
+ TOTAL=42
+ MSG='OK   42 demo1-2-3 2'
+ echo 'OK   42 demo1-2-3 2'
OK   42 demo1-2-3 2
+ echo 'OK   42 demo1-2-3 2'
+ LAST_OK='OK   42 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=42 FAIL=0'
+ echo 'LAST OK   42 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-9dkHLkIN /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=43 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=43 kernel=demo1-2-3 boot'
]2;run=43 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 43 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=43 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=43 kernel=demo1-2-3 test=1'
]2;run=43 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0844457 s, 397 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=43 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=43 kernel=demo1-2-3 test=2'
]2;run=43 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758586 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 43 demo1-2-3 2
+ TOTAL=43
+ MSG='OK   43 demo1-2-3 2'
+ echo 'OK   43 demo1-2-3 2'
OK   43 demo1-2-3 2
+ echo 'OK   43 demo1-2-3 2'
+ LAST_OK='OK   43 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=43 FAIL=0'
+ echo 'LAST OK   43 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-UqKvf2TI /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=44 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=44 kernel=demo1-2-3 boot'
]2;run=44 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 44 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=44 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=44 kernel=demo1-2-3 test=1'
]2;run=44 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0764082 s, 439 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=44 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=44 kernel=demo1-2-3 test=2'
]2;run=44 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0760146 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 44 demo1-2-3 2
+ TOTAL=44
+ MSG='OK   44 demo1-2-3 2'
+ echo 'OK   44 demo1-2-3 2'
OK   44 demo1-2-3 2
+ echo 'OK   44 demo1-2-3 2'
+ LAST_OK='OK   44 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=44 FAIL=0'
+ echo 'LAST OK   44 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-XYNEoO6B /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=45 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=45 kernel=demo1-2-3 boot'
]2;run=45 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 45 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=45 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=45 kernel=demo1-2-3 test=1'
]2;run=45 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0762645 s, 440 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=45 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=45 kernel=demo1-2-3 test=2'
]2;run=45 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758046 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 45 demo1-2-3 2
+ TOTAL=45
+ MSG='OK   45 demo1-2-3 2'
+ echo 'OK   45 demo1-2-3 2'
OK   45 demo1-2-3 2
+ echo 'OK   45 demo1-2-3 2'
+ LAST_OK='OK   45 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=45 FAIL=0'
+ echo 'LAST OK   45 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-eydKJivF /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=46 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=46 kernel=demo1-2-3 boot'
]2;run=46 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 46 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=46 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=46 kernel=demo1-2-3 test=1'
]2;run=46 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0765529 s, 438 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=46 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=46 kernel=demo1-2-3 test=2'
]2;run=46 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0771821 s, 435 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 46 demo1-2-3 2
+ TOTAL=46
+ MSG='OK   46 demo1-2-3 2'
+ echo 'OK   46 demo1-2-3 2'
OK   46 demo1-2-3 2
+ echo 'OK   46 demo1-2-3 2'
+ LAST_OK='OK   46 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=46 FAIL=0'
+ echo 'LAST OK   46 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-iRVnqaF7 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=47 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=47 kernel=demo1-2-3 boot'
]2;run=47 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 47 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=47 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=47 kernel=demo1-2-3 test=1'
]2;run=47 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0957975 s, 350 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=47 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=47 kernel=demo1-2-3 test=2'
]2;run=47 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0774577 s, 433 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 47 demo1-2-3 2
+ TOTAL=47
+ MSG='OK   47 demo1-2-3 2'
+ echo 'OK   47 demo1-2-3 2'
OK   47 demo1-2-3 2
+ echo 'OK   47 demo1-2-3 2'
+ LAST_OK='OK   47 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=47 FAIL=0'
+ echo 'LAST OK   47 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-6tuNhYaU /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=48 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=48 kernel=demo1-2-3 boot'
]2;run=48 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 48 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=48 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=48 kernel=demo1-2-3 test=1'
]2;run=48 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756127 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=48 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=48 kernel=demo1-2-3 test=2'
]2;run=48 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755398 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 48 demo1-2-3 2
+ TOTAL=48
+ MSG='OK   48 demo1-2-3 2'
+ echo 'OK   48 demo1-2-3 2'
OK   48 demo1-2-3 2
+ echo 'OK   48 demo1-2-3 2'
+ LAST_OK='OK   48 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=48 FAIL=0'
+ echo 'LAST OK   48 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-m7ZQO0LK /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=49 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=49 kernel=demo1-2-3 boot'
]2;run=49 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 49 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=49 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=49 kernel=demo1-2-3 test=1'
]2;run=49 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.075142 s, 447 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=49 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=49 kernel=demo1-2-3 test=2'
]2;run=49 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0763749 s, 439 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 49 demo1-2-3 2
+ TOTAL=49
+ MSG='OK   49 demo1-2-3 2'
+ echo 'OK   49 demo1-2-3 2'
OK   49 demo1-2-3 2
+ echo 'OK   49 demo1-2-3 2'
+ LAST_OK='OK   49 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=49 FAIL=0'
+ echo 'LAST OK   49 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-bGm3qj1u /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=50 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=50 kernel=demo1-2-3 boot'
]2;run=50 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 50 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=50 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=50 kernel=demo1-2-3 test=1'
]2;run=50 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756629 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=50 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=50 kernel=demo1-2-3 test=2'
]2;run=50 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0842914 s, 398 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 50 demo1-2-3 2
+ TOTAL=50
+ MSG='OK   50 demo1-2-3 2'
+ echo 'OK   50 demo1-2-3 2'
OK   50 demo1-2-3 2
+ echo 'OK   50 demo1-2-3 2'
+ LAST_OK='OK   50 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=50 FAIL=0'
+ echo 'LAST OK   50 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-5UMh2JLV /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=51 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=51 kernel=demo1-2-3 boot'
]2;run=51 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 51 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=51 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=51 kernel=demo1-2-3 test=1'
]2;run=51 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0837353 s, 401 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=51 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=51 kernel=demo1-2-3 test=2'
]2;run=51 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0955371 s, 351 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 51 demo1-2-3 2
+ TOTAL=51
+ MSG='OK   51 demo1-2-3 2'
+ echo 'OK   51 demo1-2-3 2'
OK   51 demo1-2-3 2
+ echo 'OK   51 demo1-2-3 2'
+ LAST_OK='OK   51 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=51 FAIL=0'
+ echo 'LAST OK   51 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-OsstS0JS /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=52 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=52 kernel=demo1-2-3 boot'
]2;run=52 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 52 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=52 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=52 kernel=demo1-2-3 test=1'
]2;run=52 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0771974 s, 435 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=52 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=52 kernel=demo1-2-3 test=2'
]2;run=52 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0762023 s, 440 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 52 demo1-2-3 2
+ TOTAL=52
+ MSG='OK   52 demo1-2-3 2'
+ echo 'OK   52 demo1-2-3 2'
OK   52 demo1-2-3 2
+ echo 'OK   52 demo1-2-3 2'
+ LAST_OK='OK   52 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=52 FAIL=0'
+ echo 'LAST OK   52 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-l3QvAMje /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=53 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=53 kernel=demo1-2-3 boot'
]2;run=53 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 53 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=53 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=53 kernel=demo1-2-3 test=1'
]2;run=53 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0752831 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=53 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=53 kernel=demo1-2-3 test=2'
]2;run=53 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759724 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 53 demo1-2-3 2
+ TOTAL=53
+ MSG='OK   53 demo1-2-3 2'
+ echo 'OK   53 demo1-2-3 2'
OK   53 demo1-2-3 2
+ echo 'OK   53 demo1-2-3 2'
+ LAST_OK='OK   53 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=53 FAIL=0'
+ echo 'LAST OK   53 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-3Bt2S8eb /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=54 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=54 kernel=demo1-2-3 boot'
]2;run=54 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 54 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=54 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=54 kernel=demo1-2-3 test=1'
]2;run=54 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0760006 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=54 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=54 kernel=demo1-2-3 test=2'
]2;run=54 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0953575 s, 352 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 54 demo1-2-3 2
+ TOTAL=54
+ MSG='OK   54 demo1-2-3 2'
+ echo 'OK   54 demo1-2-3 2'
OK   54 demo1-2-3 2
+ echo 'OK   54 demo1-2-3 2'
+ LAST_OK='OK   54 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=54 FAIL=0'
+ echo 'LAST OK   54 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-l8OI2T1I /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=55 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=55 kernel=demo1-2-3 boot'
]2;run=55 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 55 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=55 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=55 kernel=demo1-2-3 test=1'
]2;run=55 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759756 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=55 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=55 kernel=demo1-2-3 test=2'
]2;run=55 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759894 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 55 demo1-2-3 2
+ TOTAL=55
+ MSG='OK   55 demo1-2-3 2'
+ echo 'OK   55 demo1-2-3 2'
OK   55 demo1-2-3 2
+ echo 'OK   55 demo1-2-3 2'
+ LAST_OK='OK   55 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=55 FAIL=0'
+ echo 'LAST OK   55 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-qqND6hac /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=56 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=56 kernel=demo1-2-3 boot'
]2;run=56 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 56 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=56 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=56 kernel=demo1-2-3 test=1'
]2;run=56 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758952 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=56 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=56 kernel=demo1-2-3 test=2'
]2;run=56 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758822 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 56 demo1-2-3 2
+ TOTAL=56
+ MSG='OK   56 demo1-2-3 2'
+ echo 'OK   56 demo1-2-3 2'
OK   56 demo1-2-3 2
+ echo 'OK   56 demo1-2-3 2'
+ LAST_OK='OK   56 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=56 FAIL=0'
+ echo 'LAST OK   56 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-JcxFDswN /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=57 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=57 kernel=demo1-2-3 boot'
]2;run=57 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 57 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=57 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=57 kernel=demo1-2-3 test=1'
]2;run=57 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0770935 s, 435 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=57 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=57 kernel=demo1-2-3 test=2'
]2;run=57 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753126 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 57 demo1-2-3 2
+ TOTAL=57
+ MSG='OK   57 demo1-2-3 2'
+ echo 'OK   57 demo1-2-3 2'
OK   57 demo1-2-3 2
+ echo 'OK   57 demo1-2-3 2'
+ LAST_OK='OK   57 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=57 FAIL=0'
+ echo 'LAST OK   57 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-Fbl5MyUl /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=58 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=58 kernel=demo1-2-3 boot'
]2;run=58 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 58 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=58 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=58 kernel=demo1-2-3 test=1'
]2;run=58 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755121 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=58 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=58 kernel=demo1-2-3 test=2'
]2;run=58 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0761467 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 58 demo1-2-3 2
+ TOTAL=58
+ MSG='OK   58 demo1-2-3 2'
+ echo 'OK   58 demo1-2-3 2'
OK   58 demo1-2-3 2
+ echo 'OK   58 demo1-2-3 2'
+ LAST_OK='OK   58 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=58 FAIL=0'
+ echo 'LAST OK   58 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-DBnQwhRB /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=59 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=59 kernel=demo1-2-3 boot'
]2;run=59 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 59 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=59 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=59 kernel=demo1-2-3 test=1'
]2;run=59 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0847554 s, 396 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=59 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=59 kernel=demo1-2-3 test=2'
]2;run=59 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0769571 s, 436 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 59 demo1-2-3 2
+ TOTAL=59
+ MSG='OK   59 demo1-2-3 2'
+ echo 'OK   59 demo1-2-3 2'
OK   59 demo1-2-3 2
+ echo 'OK   59 demo1-2-3 2'
+ LAST_OK='OK   59 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=59 FAIL=0'
+ echo 'LAST OK   59 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-HuODGpDK /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=60 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=60 kernel=demo1-2-3 boot'
]2;run=60 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 60 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=60 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=60 kernel=demo1-2-3 test=1'
]2;run=60 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0765875 s, 438 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=60 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=60 kernel=demo1-2-3 test=2'
]2;run=60 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755498 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 60 demo1-2-3 2
+ TOTAL=60
+ MSG='OK   60 demo1-2-3 2'
+ echo 'OK   60 demo1-2-3 2'
OK   60 demo1-2-3 2
+ echo 'OK   60 demo1-2-3 2'
+ LAST_OK='OK   60 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=60 FAIL=0'
+ echo 'LAST OK   60 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-d3aUHyx3 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=61 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=61 kernel=demo1-2-3 boot'
]2;run=61 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 61 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=61 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=61 kernel=demo1-2-3 test=1'
]2;run=61 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756277 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=61 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=61 kernel=demo1-2-3 test=2'
]2;run=61 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0752222 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 61 demo1-2-3 2
+ TOTAL=61
+ MSG='OK   61 demo1-2-3 2'
+ echo 'OK   61 demo1-2-3 2'
OK   61 demo1-2-3 2
+ echo 'OK   61 demo1-2-3 2'
+ LAST_OK='OK   61 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=61 FAIL=0'
+ echo 'LAST OK   61 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-KN9Bmrlk /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=62 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=62 kernel=demo1-2-3 boot'
]2;run=62 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 62 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=62 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=62 kernel=demo1-2-3 test=1'
]2;run=62 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0757214 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=62 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=62 kernel=demo1-2-3 test=2'
]2;run=62 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754923 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 62 demo1-2-3 2
+ TOTAL=62
+ MSG='OK   62 demo1-2-3 2'
+ echo 'OK   62 demo1-2-3 2'
OK   62 demo1-2-3 2
+ echo 'OK   62 demo1-2-3 2'
+ LAST_OK='OK   62 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=62 FAIL=0'
+ echo 'LAST OK   62 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-rO5eYj2Z /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=63 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=63 kernel=demo1-2-3 boot'
]2;run=63 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 63 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=63 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=63 kernel=demo1-2-3 test=1'
]2;run=63 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758352 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=63 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=63 kernel=demo1-2-3 test=2'
]2;run=63 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753403 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 63 demo1-2-3 2
+ TOTAL=63
+ MSG='OK   63 demo1-2-3 2'
+ echo 'OK   63 demo1-2-3 2'
OK   63 demo1-2-3 2
+ echo 'OK   63 demo1-2-3 2'
+ LAST_OK='OK   63 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=63 FAIL=0'
+ echo 'LAST OK   63 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-hNupsOtF /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=64 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=64 kernel=demo1-2-3 boot'
]2;run=64 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 64 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=64 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=64 kernel=demo1-2-3 test=1'
]2;run=64 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753923 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=64 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=64 kernel=demo1-2-3 test=2'
]2;run=64 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0969663 s, 346 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 64 demo1-2-3 2
+ TOTAL=64
+ MSG='OK   64 demo1-2-3 2'
+ echo 'OK   64 demo1-2-3 2'
OK   64 demo1-2-3 2
+ echo 'OK   64 demo1-2-3 2'
+ LAST_OK='OK   64 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=64 FAIL=0'
+ echo 'LAST OK   64 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-uk37q10F /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=65 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=65 kernel=demo1-2-3 boot'
]2;run=65 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 65 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=65 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=65 kernel=demo1-2-3 test=1'
]2;run=65 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.076506 s, 439 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=65 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=65 kernel=demo1-2-3 test=2'
]2;run=65 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0769416 s, 436 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 65 demo1-2-3 2
+ TOTAL=65
+ MSG='OK   65 demo1-2-3 2'
+ echo 'OK   65 demo1-2-3 2'
OK   65 demo1-2-3 2
+ echo 'OK   65 demo1-2-3 2'
+ LAST_OK='OK   65 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=65 FAIL=0'
+ echo 'LAST OK   65 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-bCaG5LXk /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=66 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=66 kernel=demo1-2-3 boot'
]2;run=66 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 66 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=66 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=66 kernel=demo1-2-3 test=1'
]2;run=66 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753592 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=66 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=66 kernel=demo1-2-3 test=2'
]2;run=66 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0859839 s, 390 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 66 demo1-2-3 2
+ TOTAL=66
+ MSG='OK   66 demo1-2-3 2'
+ echo 'OK   66 demo1-2-3 2'
OK   66 demo1-2-3 2
+ echo 'OK   66 demo1-2-3 2'
+ LAST_OK='OK   66 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=66 FAIL=0'
+ echo 'LAST OK   66 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-dEM3KIhe /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=67 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=67 kernel=demo1-2-3 boot'
]2;run=67 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 67 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=67 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=67 kernel=demo1-2-3 test=1'
]2;run=67 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.076654 s, 438 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=67 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=67 kernel=demo1-2-3 test=2'
]2;run=67 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0766384 s, 438 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 67 demo1-2-3 2
+ TOTAL=67
+ MSG='OK   67 demo1-2-3 2'
+ echo 'OK   67 demo1-2-3 2'
OK   67 demo1-2-3 2
+ echo 'OK   67 demo1-2-3 2'
+ LAST_OK='OK   67 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=67 FAIL=0'
+ echo 'LAST OK   67 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-EKAlnFqb /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=68 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=68 kernel=demo1-2-3 boot'
]2;run=68 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 68 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=68 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=68 kernel=demo1-2-3 test=1'
]2;run=68 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0952756 s, 352 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=68 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=68 kernel=demo1-2-3 test=2'
]2;run=68 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759257 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 68 demo1-2-3 2
+ TOTAL=68
+ MSG='OK   68 demo1-2-3 2'
+ echo 'OK   68 demo1-2-3 2'
OK   68 demo1-2-3 2
+ echo 'OK   68 demo1-2-3 2'
+ LAST_OK='OK   68 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=68 FAIL=0'
+ echo 'LAST OK   68 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-hHg0qbwl /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=69 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=69 kernel=demo1-2-3 boot'
]2;run=69 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 69 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=69 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=69 kernel=demo1-2-3 test=1'
]2;run=69 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759463 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=69 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=69 kernel=demo1-2-3 test=2'
]2;run=69 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758408 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 69 demo1-2-3 2
+ TOTAL=69
+ MSG='OK   69 demo1-2-3 2'
+ echo 'OK   69 demo1-2-3 2'
OK   69 demo1-2-3 2
+ echo 'OK   69 demo1-2-3 2'
+ LAST_OK='OK   69 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=69 FAIL=0'
+ echo 'LAST OK   69 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-KYQt8JyL /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=70 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=70 kernel=demo1-2-3 boot'
]2;run=70 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 70 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=70 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=70 kernel=demo1-2-3 test=1'
]2;run=70 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0765976 s, 438 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=70 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=70 kernel=demo1-2-3 test=2'
]2;run=70 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758588 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 70 demo1-2-3 2
+ TOTAL=70
+ MSG='OK   70 demo1-2-3 2'
+ echo 'OK   70 demo1-2-3 2'
OK   70 demo1-2-3 2
+ echo 'OK   70 demo1-2-3 2'
+ LAST_OK='OK   70 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=70 FAIL=0'
+ echo 'LAST OK   70 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-yrr0IaYP /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=71 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=71 kernel=demo1-2-3 boot'
]2;run=71 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 71 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=71 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=71 kernel=demo1-2-3 test=1'
]2;run=71 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0771111 s, 435 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=71 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=71 kernel=demo1-2-3 test=2'
]2;run=71 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0767082 s, 437 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 71 demo1-2-3 2
+ TOTAL=71
+ MSG='OK   71 demo1-2-3 2'
+ echo 'OK   71 demo1-2-3 2'
OK   71 demo1-2-3 2
+ echo 'OK   71 demo1-2-3 2'
+ LAST_OK='OK   71 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=71 FAIL=0'
+ echo 'LAST OK   71 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-ialXrfjz /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=72 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=72 kernel=demo1-2-3 boot'
]2;run=72 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 72 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=72 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=72 kernel=demo1-2-3 test=1'
]2;run=72 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759248 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=72 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=72 kernel=demo1-2-3 test=2'
]2;run=72 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0766479 s, 438 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 72 demo1-2-3 2
+ TOTAL=72
+ MSG='OK   72 demo1-2-3 2'
+ echo 'OK   72 demo1-2-3 2'
OK   72 demo1-2-3 2
+ echo 'OK   72 demo1-2-3 2'
+ LAST_OK='OK   72 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=72 FAIL=0'
+ echo 'LAST OK   72 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-Y3uqika4 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=73 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=73 kernel=demo1-2-3 boot'
]2;run=73 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 73 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=73 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=73 kernel=demo1-2-3 test=1'
]2;run=73 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753801 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=73 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=73 kernel=demo1-2-3 test=2'
]2;run=73 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0761407 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 73 demo1-2-3 2
+ TOTAL=73
+ MSG='OK   73 demo1-2-3 2'
+ echo 'OK   73 demo1-2-3 2'
OK   73 demo1-2-3 2
+ echo 'OK   73 demo1-2-3 2'
+ LAST_OK='OK   73 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=73 FAIL=0'
+ echo 'LAST OK   73 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-WbUULtO4 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=74 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=74 kernel=demo1-2-3 boot'
]2;run=74 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 74 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=74 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=74 kernel=demo1-2-3 test=1'
]2;run=74 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0757979 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=74 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=74 kernel=demo1-2-3 test=2'
]2;run=74 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0760736 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 74 demo1-2-3 2
+ TOTAL=74
+ MSG='OK   74 demo1-2-3 2'
+ echo 'OK   74 demo1-2-3 2'
OK   74 demo1-2-3 2
+ echo 'OK   74 demo1-2-3 2'
+ LAST_OK='OK   74 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=74 FAIL=0'
+ echo 'LAST OK   74 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-qlu1QdpH /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=75 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=75 kernel=demo1-2-3 boot'
]2;run=75 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 75 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=75 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=75 kernel=demo1-2-3 test=1'
]2;run=75 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754122 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=75 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=75 kernel=demo1-2-3 test=2'
]2;run=75 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.076239 s, 440 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 75 demo1-2-3 2
+ TOTAL=75
+ MSG='OK   75 demo1-2-3 2'
+ echo 'OK   75 demo1-2-3 2'
OK   75 demo1-2-3 2
+ echo 'OK   75 demo1-2-3 2'
+ LAST_OK='OK   75 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=75 FAIL=0'
+ echo 'LAST OK   75 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-tWPbe6tJ /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=76 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=76 kernel=demo1-2-3 boot'
]2;run=76 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 76 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=76 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=76 kernel=demo1-2-3 test=1'
]2;run=76 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755641 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=76 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=76 kernel=demo1-2-3 test=2'
]2;run=76 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0774159 s, 433 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 76 demo1-2-3 2
+ TOTAL=76
+ MSG='OK   76 demo1-2-3 2'
+ echo 'OK   76 demo1-2-3 2'
OK   76 demo1-2-3 2
+ echo 'OK   76 demo1-2-3 2'
+ LAST_OK='OK   76 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=76 FAIL=0'
+ echo 'LAST OK   76 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-BbncUfPK /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=77 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=77 kernel=demo1-2-3 boot'
]2;run=77 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 77 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=77 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=77 kernel=demo1-2-3 test=1'
]2;run=77 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755976 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=77 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=77 kernel=demo1-2-3 test=2'
]2;run=77 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756013 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 77 demo1-2-3 2
+ TOTAL=77
+ MSG='OK   77 demo1-2-3 2'
+ echo 'OK   77 demo1-2-3 2'
OK   77 demo1-2-3 2
+ echo 'OK   77 demo1-2-3 2'
+ LAST_OK='OK   77 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=77 FAIL=0'
+ echo 'LAST OK   77 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-QSjxki29 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=78 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=78 kernel=demo1-2-3 boot'
]2;run=78 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 78 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=78 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=78 kernel=demo1-2-3 test=1'
]2;run=78 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753083 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=78 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=78 kernel=demo1-2-3 test=2'
]2;run=78 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759613 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 78 demo1-2-3 2
+ TOTAL=78
+ MSG='OK   78 demo1-2-3 2'
+ echo 'OK   78 demo1-2-3 2'
OK   78 demo1-2-3 2
+ echo 'OK   78 demo1-2-3 2'
+ LAST_OK='OK   78 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=78 FAIL=0'
+ echo 'LAST OK   78 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-N8I3pAlQ /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=79 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=79 kernel=demo1-2-3 boot'
]2;run=79 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 79 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=79 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=79 kernel=demo1-2-3 test=1'
]2;run=79 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758373 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=79 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=79 kernel=demo1-2-3 test=2'
]2;run=79 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0764709 s, 439 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 79 demo1-2-3 2
+ TOTAL=79
+ MSG='OK   79 demo1-2-3 2'
+ echo 'OK   79 demo1-2-3 2'
OK   79 demo1-2-3 2
+ echo 'OK   79 demo1-2-3 2'
+ LAST_OK='OK   79 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=79 FAIL=0'
+ echo 'LAST OK   79 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-Vkkr3ShH /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=80 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=80 kernel=demo1-2-3 boot'
]2;run=80 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 80 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=80 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=80 kernel=demo1-2-3 test=1'
]2;run=80 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755175 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=80 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=80 kernel=demo1-2-3 test=2'
]2;run=80 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0855337 s, 392 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 80 demo1-2-3 2
+ TOTAL=80
+ MSG='OK   80 demo1-2-3 2'
+ echo 'OK   80 demo1-2-3 2'
OK   80 demo1-2-3 2
+ echo 'OK   80 demo1-2-3 2'
+ LAST_OK='OK   80 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=80 FAIL=0'
+ echo 'LAST OK   80 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-svdWDC7G /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=81 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=81 kernel=demo1-2-3 boot'
]2;run=81 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 81 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=81 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=81 kernel=demo1-2-3 test=1'
]2;run=81 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754451 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=81 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=81 kernel=demo1-2-3 test=2'
]2;run=81 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753983 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 81 demo1-2-3 2
+ TOTAL=81
+ MSG='OK   81 demo1-2-3 2'
+ echo 'OK   81 demo1-2-3 2'
OK   81 demo1-2-3 2
+ echo 'OK   81 demo1-2-3 2'
+ LAST_OK='OK   81 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=81 FAIL=0'
+ echo 'LAST OK   81 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-5UX358K7 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=82 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=82 kernel=demo1-2-3 boot'
]2;run=82 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 82 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=82 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=82 kernel=demo1-2-3 test=1'
]2;run=82 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.076238 s, 440 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=82 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=82 kernel=demo1-2-3 test=2'
]2;run=82 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756111 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 82 demo1-2-3 2
+ TOTAL=82
+ MSG='OK   82 demo1-2-3 2'
+ echo 'OK   82 demo1-2-3 2'
OK   82 demo1-2-3 2
+ echo 'OK   82 demo1-2-3 2'
+ LAST_OK='OK   82 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=82 FAIL=0'
+ echo 'LAST OK   82 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-NJAFHEv0 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=83 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=83 kernel=demo1-2-3 boot'
]2;run=83 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 83 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=83 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=83 kernel=demo1-2-3 test=1'
]2;run=83 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756947 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=83 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=83 kernel=demo1-2-3 test=2'
]2;run=83 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0752556 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 83 demo1-2-3 2
+ TOTAL=83
+ MSG='OK   83 demo1-2-3 2'
+ echo 'OK   83 demo1-2-3 2'
OK   83 demo1-2-3 2
+ echo 'OK   83 demo1-2-3 2'
+ LAST_OK='OK   83 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=83 FAIL=0'
+ echo 'LAST OK   83 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-Iu75U8yY /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=84 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=84 kernel=demo1-2-3 boot'
]2;run=84 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 84 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=84 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=84 kernel=demo1-2-3 test=1'
]2;run=84 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0760157 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=84 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=84 kernel=demo1-2-3 test=2'
]2;run=84 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758655 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 84 demo1-2-3 2
+ TOTAL=84
+ MSG='OK   84 demo1-2-3 2'
+ echo 'OK   84 demo1-2-3 2'
OK   84 demo1-2-3 2
+ echo 'OK   84 demo1-2-3 2'
+ LAST_OK='OK   84 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=84 FAIL=0'
+ echo 'LAST OK   84 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-LxjRd1ki /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=85 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=85 kernel=demo1-2-3 boot'
]2;run=85 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 85 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=85 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=85 kernel=demo1-2-3 test=1'
]2;run=85 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0752492 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=85 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=85 kernel=demo1-2-3 test=2'
]2;run=85 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0763083 s, 440 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 85 demo1-2-3 2
+ TOTAL=85
+ MSG='OK   85 demo1-2-3 2'
+ echo 'OK   85 demo1-2-3 2'
OK   85 demo1-2-3 2
+ echo 'OK   85 demo1-2-3 2'
+ LAST_OK='OK   85 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=85 FAIL=0'
+ echo 'LAST OK   85 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-xoXNamJN /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=86 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=86 kernel=demo1-2-3 boot'
]2;run=86 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 86 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=86 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=86 kernel=demo1-2-3 test=1'
]2;run=86 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759148 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=86 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=86 kernel=demo1-2-3 test=2'
]2;run=86 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753899 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 86 demo1-2-3 2
+ TOTAL=86
+ MSG='OK   86 demo1-2-3 2'
+ echo 'OK   86 demo1-2-3 2'
OK   86 demo1-2-3 2
+ echo 'OK   86 demo1-2-3 2'
+ LAST_OK='OK   86 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=86 FAIL=0'
+ echo 'LAST OK   86 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-4jKaOkkj /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=87 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=87 kernel=demo1-2-3 boot'
]2;run=87 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 87 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=87 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=87 kernel=demo1-2-3 test=1'
]2;run=87 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0751996 s, 446 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=87 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=87 kernel=demo1-2-3 test=2'
]2;run=87 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754218 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 87 demo1-2-3 2
+ TOTAL=87
+ MSG='OK   87 demo1-2-3 2'
+ echo 'OK   87 demo1-2-3 2'
OK   87 demo1-2-3 2
+ echo 'OK   87 demo1-2-3 2'
+ LAST_OK='OK   87 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=87 FAIL=0'
+ echo 'LAST OK   87 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-lsZUbA6g /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=88 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=88 kernel=demo1-2-3 boot'
]2;run=88 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 88 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=88 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=88 kernel=demo1-2-3 test=1'
]2;run=88 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756294 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=88 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=88 kernel=demo1-2-3 test=2'
]2;run=88 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759454 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 88 demo1-2-3 2
+ TOTAL=88
+ MSG='OK   88 demo1-2-3 2'
+ echo 'OK   88 demo1-2-3 2'
OK   88 demo1-2-3 2
+ echo 'OK   88 demo1-2-3 2'
+ LAST_OK='OK   88 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=88 FAIL=0'
+ echo 'LAST OK   88 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-fUocObAQ /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=89 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=89 kernel=demo1-2-3 boot'
]2;run=89 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 89 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=89 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=89 kernel=demo1-2-3 test=1'
]2;run=89 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.075539 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=89 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=89 kernel=demo1-2-3 test=2'
]2;run=89 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0872974 s, 384 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 89 demo1-2-3 2
+ TOTAL=89
+ MSG='OK   89 demo1-2-3 2'
+ echo 'OK   89 demo1-2-3 2'
OK   89 demo1-2-3 2
+ echo 'OK   89 demo1-2-3 2'
+ LAST_OK='OK   89 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=89 FAIL=0'
+ echo 'LAST OK   89 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-vgNO4JQa /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=90 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=90 kernel=demo1-2-3 boot'
]2;run=90 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 90 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=90 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=90 kernel=demo1-2-3 test=1'
]2;run=90 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.075649 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=90 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=90 kernel=demo1-2-3 test=2'
]2;run=90 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0760758 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 90 demo1-2-3 2
+ TOTAL=90
+ MSG='OK   90 demo1-2-3 2'
+ echo 'OK   90 demo1-2-3 2'
OK   90 demo1-2-3 2
+ echo 'OK   90 demo1-2-3 2'
+ LAST_OK='OK   90 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=90 FAIL=0'
+ echo 'LAST OK   90 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-4tweMVkh /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=91 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=91 kernel=demo1-2-3 boot'
]2;run=91 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 91 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=91 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=91 kernel=demo1-2-3 test=1'
]2;run=91 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756059 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=91 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=91 kernel=demo1-2-3 test=2'
]2;run=91 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753555 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 91 demo1-2-3 2
+ TOTAL=91
+ MSG='OK   91 demo1-2-3 2'
+ echo 'OK   91 demo1-2-3 2'
OK   91 demo1-2-3 2
+ echo 'OK   91 demo1-2-3 2'
+ LAST_OK='OK   91 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=91 FAIL=0'
+ echo 'LAST OK   91 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-QkXkhuKq /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=92 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=92 kernel=demo1-2-3 boot'
]2;run=92 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 92 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=92 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=92 kernel=demo1-2-3 test=1'
]2;run=92 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753436 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=92 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=92 kernel=demo1-2-3 test=2'
]2;run=92 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0757068 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 92 demo1-2-3 2
+ TOTAL=92
+ MSG='OK   92 demo1-2-3 2'
+ echo 'OK   92 demo1-2-3 2'
OK   92 demo1-2-3 2
+ echo 'OK   92 demo1-2-3 2'
+ LAST_OK='OK   92 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=92 FAIL=0'
+ echo 'LAST OK   92 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-ZLePqxPk /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=93 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=93 kernel=demo1-2-3 boot'
]2;run=93 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 93 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=93 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=93 kernel=demo1-2-3 test=1'
]2;run=93 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754929 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=93 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=93 kernel=demo1-2-3 test=2'
]2;run=93 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759713 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 93 demo1-2-3 2
+ TOTAL=93
+ MSG='OK   93 demo1-2-3 2'
+ echo 'OK   93 demo1-2-3 2'
OK   93 demo1-2-3 2
+ echo 'OK   93 demo1-2-3 2'
+ LAST_OK='OK   93 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=93 FAIL=0'
+ echo 'LAST OK   93 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-TcmCuuKT /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=94 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=94 kernel=demo1-2-3 boot'
]2;run=94 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 94 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=94 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=94 kernel=demo1-2-3 test=1'
]2;run=94 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0754908 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=94 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=94 kernel=demo1-2-3 test=2'
]2;run=94 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0781815 s, 429 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 94 demo1-2-3 2
+ TOTAL=94
+ MSG='OK   94 demo1-2-3 2'
+ echo 'OK   94 demo1-2-3 2'
OK   94 demo1-2-3 2
+ echo 'OK   94 demo1-2-3 2'
+ LAST_OK='OK   94 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=94 FAIL=0'
+ echo 'LAST OK   94 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-Ubrq2jPq /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=95 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=95 kernel=demo1-2-3 boot'
]2;run=95 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 95 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=95 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=95 kernel=demo1-2-3 test=1'
]2;run=95 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753992 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=95 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=95 kernel=demo1-2-3 test=2'
]2;run=95 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755856 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 95 demo1-2-3 2
+ TOTAL=95
+ MSG='OK   95 demo1-2-3 2'
+ echo 'OK   95 demo1-2-3 2'
OK   95 demo1-2-3 2
+ echo 'OK   95 demo1-2-3 2'
+ LAST_OK='OK   95 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=95 FAIL=0'
+ echo 'LAST OK   95 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-kZlIyon7 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=96 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=96 kernel=demo1-2-3 boot'
]2;run=96 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 96 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=96 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=96 kernel=demo1-2-3 test=1'
]2;run=96 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0797894 s, 421 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=96 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=96 kernel=demo1-2-3 test=2'
]2;run=96 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0757377 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 96 demo1-2-3 2
+ TOTAL=96
+ MSG='OK   96 demo1-2-3 2'
+ echo 'OK   96 demo1-2-3 2'
OK   96 demo1-2-3 2
+ echo 'OK   96 demo1-2-3 2'
+ LAST_OK='OK   96 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=96 FAIL=0'
+ echo 'LAST OK   96 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-D0mTU9Bu /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=97 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=97 kernel=demo1-2-3 boot'
]2;run=97 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 97 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=97 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=97 kernel=demo1-2-3 test=1'
]2;run=97 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0755121 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=97 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=97 kernel=demo1-2-3 test=2'
]2;run=97 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0759339 s, 442 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 97 demo1-2-3 2
+ TOTAL=97
+ MSG='OK   97 demo1-2-3 2'
+ echo 'OK   97 demo1-2-3 2'
OK   97 demo1-2-3 2
+ echo 'OK   97 demo1-2-3 2'
+ LAST_OK='OK   97 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=97 FAIL=0'
+ echo 'LAST OK   97 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-gbdxRiMG /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=98 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=98 kernel=demo1-2-3 boot'
]2;run=98 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 98 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=98 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=98 kernel=demo1-2-3 test=1'
]2;run=98 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0758085 s, 443 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=98 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=98 kernel=demo1-2-3 test=2'
]2;run=98 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0769585 s, 436 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 98 demo1-2-3 2
+ TOTAL=98
+ MSG='OK   98 demo1-2-3 2'
+ echo 'OK   98 demo1-2-3 2'
OK   98 demo1-2-3 2
+ echo 'OK   98 demo1-2-3 2'
+ LAST_OK='OK   98 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=98 FAIL=0'
+ echo 'LAST OK   98 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-AEACyql0 /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=99 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=99 kernel=demo1-2-3 boot'
]2;run=99 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 99 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=99 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=99 kernel=demo1-2-3 test=1'
]2;run=99 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.075467 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=99 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=99 kernel=demo1-2-3 test=2'
]2;run=99 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0753385 s, 445 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 99 demo1-2-3 2
+ TOTAL=99
+ MSG='OK   99 demo1-2-3 2'
+ echo 'OK   99 demo1-2-3 2'
OK   99 demo1-2-3 2
+ echo 'OK   99 demo1-2-3 2'
+ LAST_OK='OK   99 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=99 FAIL=0'
+ echo 'LAST OK   99 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-GSPrTYwT /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ for run in $(seq 1 $RUNS)
+ for k in ${KERNELS[@]}
+ tmux-panel-title 'run=100 kernel=demo1-2-3 boot'
+ printf '\033]2;%s\033\\' 'run=100 kernel=demo1-2-3 boot'
]2;run=100 kernel=demo1-2-3 boot\+ tmux select-pane -t %1
+ tmux split-window -h '/home/bill/w/proj/openamp/openamp-demo/qemu-zcu102/bin/test-qemu subcmd qemu 100 demo1-2-3'
+ wait_for_ssh
+ echo -n 'waiting for ssh '
waiting for ssh ++ seq 1 60
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo -n .
.+ sleep 1
+ for i in $(seq 1 $WAIT)
+ ssh -o ConnectTimeout=2 qemu-zcu102 true
+ echo ' OK'
 OK
+ return
+ status=true
++ seq 1 2
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=100 kernel=demo1-2-3 test=1'
+ printf '\033]2;%s\033\\' 'run=100 kernel=demo1-2-3 test=1'
]2;run=100 kernel=demo1-2-3 test=1\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0756349 s, 444 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ for test in $(seq 1 $TESTS)
+ tmux-panel-title 'run=100 kernel=demo1-2-3 test=2'
+ printf '\033]2;%s\033\\' 'run=100 kernel=demo1-2-3 test=2'
]2;run=100 kernel=demo1-2-3 test=2\+ do_one_test
+ do_one_quick_test
+ echo 'ssh command'
ssh command
+ ssh qemu-zcu102 true
+ do_one_big_test
+ echo 'bigfile transfer'
bigfile transfer
+ dd if=/dev/urandom of=bigfile bs=1M count=32
32+0 records in
32+0 records out
33554432 bytes (34 MB, 32 MiB) copied, 0.0761284 s, 441 MB/s
+ scp bigfile qemu-zcu102:
+ scp qemu-zcu102:bigfile bigfile2
+ cmp bigfile bigfile2
+ rm bigfile bigfile2
+ true
+ true
+ record_success 100 demo1-2-3 2
+ TOTAL=100
+ MSG='OK   100 demo1-2-3 2'
+ echo 'OK   100 demo1-2-3 2'
OK   100 demo1-2-3 2
+ echo 'OK   100 demo1-2-3 2'
+ LAST_OK='OK   100 demo1-2-3 2'
+ update_totals
+ echo 'TOTAL=100 FAIL=0'
+ echo 'LAST OK   100 demo1-2-3 2'
+ tac test-log-2024-07-19-113753.log
+ grep FAIL
+ head -n 25
+ tmux kill-pane -t .2
+ echo 'sleeping before cleaning'
sleeping before cleaning
+ sleep 5
+ clean_tmp
++ dirname /tmp/test-qemu-jArwq7rz/test-qemu-tmp
+ MY_TMPDIR=/tmp/test-qemu-jArwq7rz
+ '[' -e /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker ']'
+ echo 'cleaning our private tmp dir'
cleaning our private tmp dir
+ rm -rf /tmp/test-qemu-jArwq7rz/test-qemu-tmp/qemu-ElIqyKPt /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ touch /tmp/test-qemu-jArwq7rz/test-qemu-tmp/test-qemu-marker
+ echo 'sleeping before next run'
sleeping before next run
+ sleep 10
+ tmux kill-win
